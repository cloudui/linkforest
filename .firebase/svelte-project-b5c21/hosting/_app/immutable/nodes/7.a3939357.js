import{z as et,G as De,H as Te,s as ce,I as te,e as Bt,n as Ve,g as w,h as C,B as X,k as S,i as D,c as F,d as z,C as mt,J as Et,u as Oe,r as Ne,w as je,K as Ft,v as wt,p as Ct,D as Ue,L as xe,l as it,m as at,M as rt,A as Ae,N as ee,E as Me}from"../chunks/scheduler.d83c174e.js";import{u as Fe,w as ze,x as qe,y as Ge,S as ue,i as fe,d as A,v as de,a as j,h as zt,t as lt,c as qt,b as nt,e as b,q as It,z as ne,g as m,A as He,n as k,p as K,B as Je,j as he,k as me,m as _e,s as Tt,r as pe,l as be}from"../chunks/index.6e71aa37.js";import{U as ge,g as Ke,a as We}from"../chunks/UserLink.7dda5c37.js";import{p as Rt}from"../chunks/stores.c42b6faf.js";import{d as dt,a as Pt,u as Dt,e as se,f as le,h as ht,i as oe,j as gt}from"../chunks/firebase.dfe6b682.js";import{w as ie}from"../chunks/index.1eda10f5.js";import{c as Xe}from"../chunks/index.40b40403.js";function Ye(n,t,e,o){if(!t)return et;const s=n.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return et;const{delay:l=0,duration:a=300,easing:d=De,start:i=Fe()+l,end:r=i+a,tick:c=et,css:f}=e(n,{from:t,to:s},o);let _=!0,u=!1,h;function p(){f&&(h=qe(n,0,1,a,l,d,f)),l||(u=!0)}function y(){f&&Ge(n,h),_=!1}return ze(x=>{if(!u&&x>=i&&(u=!0),u&&x>=r&&(c(1,0),y()),!_)return!1;if(u){const U=x-i,V=0+1*d(U/a);c(V,1-V)}return!0}),p(),c(0,1),y}function Qe(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:o}=t,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=o,Ze(n,s)}}function Ze(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const o=getComputedStyle(n),s=o.transform==="none"?"":o.transform;n.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function ve(n,{from:t,to:e},o={}){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform,[a,d]=s.transformOrigin.split(" ").map(parseFloat),i=t.left+t.width*a/e.width-(e.left+a),r=t.top+t.height*d/e.height-(e.top+d),{delay:c=0,duration:f=u=>Math.sqrt(u)*120,easing:_=Xe}=o;return{delay:c,duration:Te(f)?f(Math.sqrt(i*i+r*r)):f,easing:_,css:(u,h)=>{const p=h*i,y=h*r,x=u+h*t.width/e.width,U=u+h*t.height/e.height;return`transform: ${l} translate(${p}px, ${y}px) scale(${x}, ${U});`}}}const Gt="src/lib/components/SortableList.svelte";function St(n,t,e){const o=n.slice();return o[9]=t[e],o[11]=e,o}const $e=n=>({item:n&1,index:n&1}),ae=n=>({item:n[9],index:n[11]});function ke(n){let t,e="No items";const o={c:function(){t=w("p"),t.textContent=e,this.h()},l:function(l){t=C(l,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){m(t,"class","text-center my-12 text-lg font-bold"),S(t,Gt,74,4,1748)},m:function(l,a){j(l,t,a)},p:et,i:et,o:et,d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:ke.name,type:"else",source:"(60:2) {:else}",ctx:n}),o}function ye(n){let t,e=[],o=new Map,s,l=It(n[0]);const a=i=>i[9].id;ne(n,l,St,a);for(let i=0;i<l.length;i+=1){let r=St(n,l,i),c=a(r);o.set(c,e[i]=Vt(c,r))}const d={c:function(){t=w("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l:function(r){t=C(r,"UL",{class:!0});var c=D(t);for(let f=0;f<e.length;f+=1)e[f].l(c);c.forEach(b),this.h()},h:function(){m(t,"class","list-none p-0 flex flex-col items-center"),S(t,Gt,55,4,1112)},m:function(r,c){j(r,t,c);for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(t,null);s=!0},p:function(r,c){if(c&63){l=It(r[0]),zt();for(let f=0;f<e.length;f+=1)e[f].r();ne(r,l,St,a),e=He(e,c,a,1,r,l,o,t,Je,Vt,null,St);for(let f=0;f<e.length;f+=1)e[f].a();qt()}},i:function(r){if(!s){for(let c=0;c<l.length;c+=1)nt(e[c]);s=!0}},o:function(r){for(let c=0;c<e.length;c+=1)lt(e[c]);s=!1},d:function(r){r&&b(t);for(let c=0;c<e.length;c+=1)e[c].d()}};return A("SvelteRegisterBlock",{block:d,id:ye.name,type:"if",source:"(41:2) {#if list?.length}",ctx:n}),d}function Vt(n,t){let e,o,s,l,a,d=et,i,r,c;const f=t[6].default,_=Ve(f,t,t[5],ae),u={key:n,first:null,c:function(){e=w("li"),_&&_.c(),o=F(),this.h()},l:function(p){e=C(p,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var y=D(e);_&&_.l(y),o=z(y),y.forEach(b),this.h()},h:function(){m(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),m(e,"data-index",s=t[11]),m(e,"data-id",l=t[9].id),m(e,"draggable","true"),mt(e,"over",t[9].id===t[1]),S(e,Gt,57,8,1218),this.first=e},m:function(p,y){j(p,e,y),_&&_.m(e,null),k(e,o),i=!0,r||(c=[K(e,"dragstart",we,!1,!1,!1,!1),K(e,"dragover",Et(t[2]),!1,!0,!1,!1),K(e,"dragleave",t[3],!1,!1,!1,!1),K(e,"drop",Et(t[4]),!1,!0,!1,!1)],r=!0)},p:function(p,y){t=p,_&&_.p&&(!i||y&33)&&Oe(_,f,t,t[5],i?je(f,t[5],y,$e):Ne(t[5]),ae),(!i||y&1&&s!==(s=t[11]))&&m(e,"data-index",s),(!i||y&1&&l!==(l=t[9].id))&&m(e,"data-id",l),(!i||y&3)&&mt(e,"over",t[9].id===t[1])},r:function(){a=e.getBoundingClientRect()},f:function(){Qe(e),d()},a:function(){d(),d=Ye(e,a,ve,{duration:300})},i:function(p){i||(nt(_,p),i=!0)},o:function(p){lt(_,p),i=!1},d:function(p){p&&b(e),_&&_.d(p),r=!1,Ft(c)}};return A("SvelteRegisterBlock",{block:u,id:Vt.name,type:"each",source:"(43:6) {#each list as item, index (item.id)}",ctx:t}),u}function Ot(n){let t,e,o,s;const l=[ye,ke],a=[];function d(r,c){var f;return(f=r[0])!=null&&f.length?0:1}t=d(n),e=a[t]=l[t](n);const i={c:function(){e.c(),o=Bt()},l:function(c){e.l(c),o=Bt()},m:function(c,f){a[t].m(c,f),j(c,o,f),s=!0},p:function(c,[f]){let _=t;t=d(c),t===_?a[t].p(c,f):(zt(),lt(a[_],1,1,()=>{a[_]=null}),qt(),e=a[t],e?e.p(c,f):(e=a[t]=l[t](c),e.c()),nt(e,1),e.m(o.parentNode,o))},i:function(c){s||(nt(e),s=!0)},o:function(c){lt(e),s=!1},d:function(c){c&&b(o),a[t].d(c)}};return A("SvelteRegisterBlock",{block:i,id:Ot.name,type:"component",source:"",ctx:n}),i}function _t(n){return n.dataset.index?{...n.dataset}:_t(n.parentNode)}function we(n){var e;const t=_t(n.target);(e=n.dataTransfer)==null||e.setData("source",t==null?void 0:t.index.toString())}function tn(n,t,e){let{$$slots:o={},$$scope:s}=t;de("SortableList",o,["default"]);let{list:l}=t,a=!1;const d=te();function i(u){var p;(p=u.target.dataset)==null||p.id;const h=_t(u.target);e(1,a=(h==null?void 0:h.id)??!1)}function r(u){const h=_t(u.target);a===h.id&&e(1,a=!1)}function c(u){var p;e(1,a=!1);const h=_t(u.target);f({from:(p=u.dataTransfer)==null?void 0:p.getData("source"),to:h.index})}const f=({from:u,to:h})=>{const p=[...l];p[u]=[p[h],p[h]=p[u]][0],d("sort",p)};n.$$.on_mount.push(function(){l===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const _=["list"];return Object.keys(t).forEach(u=>{!~_.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${u}'`)}),n.$$set=u=>{"list"in u&&e(0,l=u.list),"$$scope"in u&&e(5,s=u.$$scope)},n.$capture_state=()=>({flip:ve,createEventDispatcher:te,list:l,isOver:a,dispatch:d,getDraggedParent:_t,onDragStart:we,onDragOver:i,onDragLeave:r,onDrop:c,reorder:f}),n.$inject_state=u=>{"list"in u&&e(0,l=u.list),"isOver"in u&&e(1,a=u.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[l,a,i,r,c,s,o]}class Ce extends ue{constructor(t){super(t),fe(this,t,tn,Ot,ce,{list:0}),A("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:Ot.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const B="src/routes/[username]/edit/+page.svelte";function re(n,t,e){const o=n.slice();return o[28]=t[e],o}function Nt(n){var Xt,Yt,Qt;let t,e,o="Edit your Profile",s,l,a,d,i,r,c=((Xt=n[8])==null?void 0:Xt.username)+"",f,_,u,h,p,y="Change photo",x,U,V,q,R,T=(Yt=n[8])!=null&&Yt.published?"Public profile":"Private profile",O,N,H,M,I,E,L,W="Current Bio:",st,$,Y,g,G,tt,Lt,Ht;function Jt(J,v){return J[5]?Be:Se}let vt=Jt(n),Q=vt(n);Y=new Ce({props:{list:(Qt=n[8])==null?void 0:Qt.links,$$slots:{default:[Le,({item:J,index:v})=>({31:J,32:v}),({item:J,index:v})=>[0,(J?1:0)|(v?2:0)]]},$$scope:{ctx:n}},$$inline:!0}),Y.$on("sort",n[15]);function Kt(J,v){return J[4]?Pe:Re}let kt=Kt(n),Z=kt(n);const Wt={c:function(){t=w("div"),e=w("h1"),e.textContent=o,s=F(),l=w("div"),a=w("p"),d=it(`Profile Link:
            `),i=w("a"),r=it("https://linkforest.echen.io/"),f=it(c),u=F(),h=w("div"),p=w("a"),p.textContent=y,x=F(),U=w("form"),V=w("label"),q=w("span"),R=w("div"),O=it(T),N=F(),H=w("input"),I=F(),E=w("div"),L=w("p"),L.textContent=W,st=F(),Q.c(),$=F(),he(Y.$$.fragment),g=F(),Z.c(),G=Bt(),this.h()},l:function(v){t=C(v,"DIV",{class:!0});var P=D(t);e=C(P,"H1",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-zzls1r"&&(e.textContent=o),s=z(P),l=C(P,"DIV",{class:!0});var ct=D(l);a=C(ct,"P",{});var ut=D(a);d=at(ut,`Profile Link:
            `),i=C(ut,"A",{href:!0,class:!0});var ft=D(i);r=at(ft,"https://linkforest.echen.io/"),f=at(ft,c),ft.forEach(b),ut.forEach(b),ct.forEach(b),u=z(P),h=C(P,"DIV",{class:!0});var pt=D(h);p=C(pt,"A",{class:!0,href:!0,"data-svelte-h":!0}),X(p)!=="svelte-1hnlagx"&&(p.textContent=y),pt.forEach(b),x=z(P),U=C(P,"FORM",{class:!0});var bt=D(U);V=C(bt,"LABEL",{class:!0});var ot=D(V);q=C(ot,"SPAN",{class:!0});var Zt=D(q);R=C(Zt,"DIV",{class:!0,"data-tip":!0});var $t=D(R);O=at($t,T),$t.forEach(b),Zt.forEach(b),N=z(ot),H=C(ot,"INPUT",{type:!0,class:!0}),ot.forEach(b),bt.forEach(b),P.forEach(b),I=z(v),E=C(v,"DIV",{class:!0});var yt=D(E);L=C(yt,"P",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-186hfjf"&&(L.textContent=W),st=z(yt),Q.l(yt),yt.forEach(b),$=z(v),me(Y.$$.fragment,v),g=z(v),Z.l(v),G=Bt(),this.h()},h:function(){var v,P;m(e,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center"),S(e,B,110,6,2133),m(i,"href",_=`/${(v=n[8])==null?void 0:v.username}`),m(i,"class","link link-accent"),S(i,B,117,12,2320),S(a,B,115,10,2278),m(l,"class","text-center mb-6"),S(l,B,114,6,2237),m(p,"class","btn btn-outline btn-xs"),m(p,"href","/login/photo"),S(p,B,127,10,2584),m(h,"class","text-center my-4"),S(h,B,126,8,2543),m(R,"class","tooltip group-hover:tooltip-open"),m(R,"data-tip","If public, the world can see your profile"),S(R,B,134,14,2945),m(q,"class","label-text mr-6"),S(q,B,133,12,2900),m(H,"type","checkbox"),m(H,"class","toggle toggle-success"),H.checked=M=(P=n[8])==null?void 0:P.published,S(H,B,141,12,3223),m(V,"class","label cursor-pointer flex items-start justify-center"),S(V,B,132,10,2819),m(U,"class","form-control"),S(U,B,131,8,2781),m(t,"class","profile-head mb-3"),S(t,B,109,4,2095),m(L,"class","text-success mr-1 mb-3"),S(L,B,152,8,3508),m(E,"class","bio mb-5 text-center"),S(E,B,151,6,3465)},m:function(v,P){j(v,t,P),k(t,e),k(t,s),k(t,l),k(l,a),k(a,d),k(a,i),k(i,r),k(i,f),k(t,u),k(t,h),k(h,p),k(t,x),k(t,U),k(U,V),k(V,q),k(q,R),k(R,O),k(V,N),k(V,H),j(v,I,P),j(v,E,P),k(E,L),k(E,st),Q.m(E,null),j(v,$,P),_e(Y,v,P),j(v,g,P),Z.m(v,P),j(v,G,P),tt=!0,Lt||(Ht=K(H,"change",n[16],!1,!1,!1,!1),Lt=!0)},p:function(v,P){var ut,ft,pt,bt,ot;(!tt||P[0]&256)&&c!==(c=((ut=v[8])==null?void 0:ut.username)+"")&&Tt(f,c),(!tt||P[0]&256&&_!==(_=`/${(ft=v[8])==null?void 0:ft.username}`))&&m(i,"href",_),(!tt||P[0]&256)&&T!==(T=(pt=v[8])!=null&&pt.published?"Public profile":"Private profile")&&Tt(O,T),(!tt||P[0]&256&&M!==(M=(bt=v[8])==null?void 0:bt.published))&&pe(H,"checked",M),vt===(vt=Jt(v))&&Q?Q.p(v,P):(Q.d(1),Q=vt(v),Q&&(Q.c(),Q.m(E,null)));const ct={};P[0]&256&&(ct.list=(ot=v[8])==null?void 0:ot.links),P[1]&5&&(ct.$$scope={dirty:P,ctx:v}),Y.$set(ct),kt===(kt=Kt(v))&&Z?Z.p(v,P):(Z.d(1),Z=kt(v),Z&&(Z.c(),Z.m(G.parentNode,G)))},i:function(v){tt||(nt(Y.$$.fragment,v),tt=!0)},o:function(v){lt(Y.$$.fragment,v),tt=!1},d:function(v){v&&(b(t),b(I),b(E),b($),b(g),b(G)),Q.d(),be(Y,v),Z.d(v),Lt=!1,Ht()}};return A("SvelteRegisterBlock",{block:Wt,id:Nt.name,type:"if",source:"(93:4) {#if $userData?.username == $page.params.username}",ctx:n}),Wt}function Se(n){let t,e,o=(n[0]?n[0]:"<empty bio>")+"",s,l,a;const d={c:function(){t=w("span"),e=w("button"),s=it(o),this.h()},l:function(r){t=C(r,"SPAN",{class:!0});var c=D(t);e=C(c,"BUTTON",{type:!0});var f=D(e);s=at(f,o),f.forEach(b),c.forEach(b),this.h()},h:function(){m(e,"type","submit"),S(e,B,173,12,4408),m(t,"class","border-solid border-2 border-blue-400 p-2 rounded-md"),S(t,B,172,10,4328)},m:function(r,c){j(r,t,c),k(t,e),k(e,s),l||(a=K(e,"click",n[17],!1,!1,!1,!1),l=!0)},p:function(r,c){c[0]&1&&o!==(o=(r[0]?r[0]:"<empty bio>")+"")&&Tt(s,o)},d:function(r){r&&b(t),l=!1,a()}};return A("SvelteRegisterBlock",{block:d,id:Se.name,type:"else",source:"(156:8) {:else}",ctx:n}),d}function Be(n){let t,e,o,s,l,a;function d(f,_){return f[6]?Ie:Ee}let i=d(n),r=i(n);const c={c:function(){t=w("form"),e=w("div"),o=w("textarea"),s=F(),r.c(),this.h()},l:function(_){t=C(_,"FORM",{});var u=D(t);e=C(u,"DIV",{class:!0});var h=D(e);o=C(h,"TEXTAREA",{name:!0,class:!0,rows:!0}),D(o).forEach(b),h.forEach(b),s=z(u),r.l(u),u.forEach(b),this.h()},h:function(){m(o,"name","bio"),m(o,"class","textarea textarea-bordered border-blue-300 leading-normal py-2 input-error"),m(o,"rows","1"),mt(o,"textarea-error",!n[6]),mt(o,"border-error",!n[6]),S(o,B,156,14,3695),m(e,"class","form-control"),S(e,B,155,12,3654),S(t,B,154,10,3592)},m:function(_,u){j(_,t,u),k(t,e),k(e,o),rt(o,n[0]),k(t,s),r.m(t,null),l||(a=[K(o,"input",n[20]),K(t,"submit",Et(n[18]),!1,!0,!1,!1)],l=!0)},p:function(_,u){u[0]&1&&rt(o,_[0]),u[0]&64&&mt(o,"textarea-error",!_[6]),u[0]&64&&mt(o,"border-error",!_[6]),i!==(i=d(_))&&(r.d(1),r=i(_),r&&(r.c(),r.m(t,null)))},d:function(_){_&&b(t),r.d(),l=!1,Ft(a)}};return A("SvelteRegisterBlock",{block:c,id:Be.name,type:"if",source:"(138:8) {#if editBio }",ctx:n}),c}function Ee(n){let t,e="Bio must be less than 260 characters.";const o={c:function(){t=w("p"),t.textContent=e,this.h()},l:function(l){t=C(l,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1mik8q4"&&(t.textContent=e),this.h()},h:function(){m(t,"class","text-error text-right text-xs my-3"),S(t,B,168,14,4178)},m:function(l,a){j(l,t,a)},d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:Ee.name,type:"else",source:"(152:12) {:else}",ctx:n}),o}function Ie(n){let t,e="Update Bio";const o={c:function(){t=w("button"),t.textContent=e,this.h()},l:function(l){t=C(l,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-n0qh1o"&&(t.textContent=e),this.h()},h:function(){m(t,"class","btn btn-outline btn-success btn-sm my-3"),S(t,B,166,14,4068)},m:function(l,a){j(l,t,a)},d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:Ie.name,type:"if",source:"(150:12) {#if bioIsValid}",ctx:n}),o}function Le(n){let t,e,o,s,l="Delete",a,d,i;const r=[n[31]];let c={};for(let u=0;u<r.length;u+=1)c=Ue(c,r[u]);e=new ge({props:c,$$inline:!0});function f(){return n[21](n[31])}const _={c:function(){t=w("div"),he(e.$$.fragment),o=F(),s=w("button"),s.textContent=l,this.h()},l:function(h){t=C(h,"DIV",{class:!0});var p=D(t);me(e.$$.fragment,p),o=z(p),s=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-1n5cbwc"&&(s.textContent=l),p.forEach(b),this.h()},h:function(){m(s,"class","btn btn-xs btn-error invisible group-hover:visible transition-all absolute -right-6 bottom-10"),S(s,B,182,10,4740),m(t,"class","group relative"),S(t,B,180,8,4668)},m:function(h,p){j(h,t,p),_e(e,t,null),k(t,o),k(t,s),a=!0,d||(i=K(s,"click",f,!1,!1,!1,!1),d=!0)},p:function(h,p){n=h;const y=p[1]&1?Ke(r,[We(n[31])]):{};e.$set(y)},i:function(h){a||(nt(e.$$.fragment,h),a=!0)},o:function(h){lt(e.$$.fragment,h),a=!1},d:function(h){h&&b(t),be(e),d=!1,i()}};return A("SvelteRegisterBlock",{block:_,id:Le.name,type:"slot",source:"(164:6) <SortableList list={$userData?.links} on:sort={sortList} let:item let:index>",ctx:n}),_}function Re(n){let t,e="Add a Link",o,s;const l={c:function(){t=w("button"),t.textContent=e,this.h()},l:function(d){t=C(d,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1l5hg7j"&&(t.textContent=e),this.h()},h:function(){m(t,"class","btn btn-outline btn-info block mx-auto my-4"),S(t,B,240,8,6463)},m:function(d,i){j(d,t,i),o||(s=K(t,"click",n[25],!1,!1,!1,!1),o=!0)},p:et,d:function(d){d&&b(t),o=!1,s()}};return A("SvelteRegisterBlock",{block:l,id:Re.name,type:"else",source:"(224:6) {:else}",ctx:n}),l}function Pe(n){let t,e,o,s,l,a,d,i,r,c,f,_,u,h,p,y,x="Cancel",U,V,q=It(n[10]),R=[];for(let M=0;M<q.length;M+=1)R[M]=jt(re(n,q,M));let T=!n[1]&&Ut(n),O=!n[2]&&xt(n),N=n[7]&&At(n);const H={c:function(){t=w("form"),e=w("select");for(let I=0;I<R.length;I+=1)R[I].c();o=F(),s=w("input"),l=F(),a=w("input"),d=F(),i=w("div"),T&&T.c(),r=F(),O&&O.c(),c=F(),N&&N.c(),f=F(),_=w("button"),u=it("Add Link"),p=F(),y=w("button"),y.textContent=x,this.h()},l:function(I){t=C(I,"FORM",{class:!0});var E=D(t);e=C(E,"SELECT",{name:!0,class:!0});var L=D(e);for(let $=0;$<R.length;$+=1)R[$].l(L);L.forEach(b),o=z(E),s=C(E,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),l=z(E),a=C(E,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),d=z(E),i=C(E,"DIV",{class:!0});var W=D(i);T&&T.l(W),r=z(W),O&&O.l(W),c=z(W),N&&N.l(W),W.forEach(b),f=z(E),_=C(E,"BUTTON",{type:!0,class:!0});var st=D(_);u=at(st,"Add Link"),st.forEach(b),p=z(E),y=C(E,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),X(y)!=="svelte-ptz3kb"&&(y.textContent=x),E.forEach(b),this.h()},h:function(){m(e,"name","icon"),m(e,"class","select select-sm"),n[3].icon===void 0&&Ae(()=>n[22].call(e)),S(e,B,195,10,5146),m(s,"name","title"),m(s,"type","text"),m(s,"placeholder","Title"),m(s,"class","input input-sm"),S(s,B,205,10,5417),m(a,"name","url"),m(a,"type","text"),m(a,"placeholder","URL"),m(a,"class","input input-sm mt-3"),S(a,B,212,10,5604),m(i,"class","my-4"),S(i,B,219,10,5790),_.disabled=h=!n[7],m(_,"type","submit"),m(_,"class","btn btn-success block"),S(_,B,231,10,6187),m(y,"type","button"),m(y,"class","btn btn-xs my-4"),S(y,B,237,10,6341),m(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl"),S(t,B,191,8,5015)},m:function(I,E){j(I,t,E),k(t,e);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(e,null);ee(e,n[3].icon,!0),k(t,o),k(t,s),rt(s,n[3].title),k(t,l),k(t,a),rt(a,n[3].url),k(t,d),k(t,i),T&&T.m(i,null),k(i,r),O&&O.m(i,null),k(i,c),N&&N.m(i,null),k(t,f),k(t,_),k(_,u),k(t,p),k(t,y),U||(V=[K(e,"change",n[22]),K(s,"input",n[23]),K(a,"input",n[24]),K(y,"click",n[14],!1,!1,!1,!1),K(t,"submit",Et(n[12]),!1,!0,!1,!1)],U=!0)},p:function(I,E){if(E[0]&1024){q=It(I[10]);let L;for(L=0;L<q.length;L+=1){const W=re(I,q,L);R[L]?R[L].p(W,E):(R[L]=jt(W),R[L].c(),R[L].m(e,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=q.length}E[0]&1032&&ee(e,I[3].icon),E[0]&1032&&s.value!==I[3].title&&rt(s,I[3].title),E[0]&1032&&a.value!==I[3].url&&rt(a,I[3].url),I[1]?T&&(T.d(1),T=null):T||(T=Ut(I),T.c(),T.m(i,r)),I[2]?O&&(O.d(1),O=null):O||(O=xt(I),O.c(),O.m(i,c)),I[7]?N||(N=At(I),N.c(),N.m(i,null)):N&&(N.d(1),N=null),E[0]&128&&h!==(h=!I[7])&&pe(_,"disabled",h)},d:function(I){I&&b(t),Me(R,I),T&&T.d(),O&&O.d(),N&&N.d(),U=!1,Ft(V)}};return A("SvelteRegisterBlock",{block:H,id:Pe.name,type:"if",source:"(175:6) {#if showForm}",ctx:n}),H}function jt(n){let t,e=n[28]+"",o;const s={c:function(){t=w("option"),o=it(e),this.h()},l:function(a){t=C(a,"OPTION",{});var d=D(t);o=at(d,e),d.forEach(b),this.h()},h:function(){t.__value=n[28].toLowerCase(),rt(t,t.__value),S(t,B,202,14,5316)},m:function(a,d){j(a,t,d),k(t,o)},p:et,d:function(a){a&&b(t)}};return A("SvelteRegisterBlock",{block:s,id:jt.name,type:"each",source:"(186:12) {#each icons as icon}",ctx:n}),s}function Ut(n){let t,e="Must have valid title";const o={c:function(){t=w("p"),t.textContent=e,this.h()},l:function(l){t=C(l,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){m(t,"class","text-error text-xs"),S(t,B,221,14,5855)},m:function(l,a){j(l,t,a)},d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:Ut.name,type:"if",source:"(205:12) {#if !titleIsValid}",ctx:n}),o}function xt(n){let t,e="Must have a valid URL";const o={c:function(){t=w("p"),t.textContent=e,this.h()},l:function(l){t=C(l,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){m(t,"class","text-error text-xs"),S(t,B,224,14,5973)},m:function(l,a){j(l,t,a)},d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:xt.name,type:"if",source:"(208:12) {#if !urlIsValid}",ctx:n}),o}function At(n){let t,e="Looks good!";const o={c:function(){t=w("p"),t.textContent=e,this.h()},l:function(l){t=C(l,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){m(t,"class","text-success text-xs"),S(t,B,227,14,6091)},m:function(l,a){j(l,t,a)},d:function(l){l&&b(t)}};return A("SvelteRegisterBlock",{block:o,id:At.name,type:"if",source:"(211:12) {#if formIsValid}",ctx:n}),o}function Mt(n){var a;let t,e,o,s=((a=n[8])==null?void 0:a.username)==n[9].params.username&&Nt(n);const l={c:function(){t=w("div"),e=w("main"),s&&s.c(),this.h()},l:function(i){t=C(i,"DIV",{class:!0});var r=D(t);e=C(r,"MAIN",{class:!0});var c=D(e);s&&s.l(c),c.forEach(b),r.forEach(b),this.h()},h:function(){m(e,"class","max-w-xl mx-auto"),S(e,B,107,2,2004),m(t,"class","mb-12 pb-12"),S(t,B,106,0,1976)},m:function(i,r){j(i,t,r),k(t,e),s&&s.m(e,null),o=!0},p:function(i,r){var c;((c=i[8])==null?void 0:c.username)==i[9].params.username?s?(s.p(i,r),r[0]&768&&nt(s,1)):(s=Nt(i),s.c(),nt(s,1),s.m(e,null)):s&&(zt(),lt(s,1,1,()=>{s=null}),qt())},i:function(i){o||(nt(s),o=!0)},o:function(i){lt(s),o=!1},d:function(i){i&&b(t),s&&s.d()}};return A("SvelteRegisterBlock",{block:l,id:Mt.name,type:"component",source:"",ctx:n}),l}function en(n,t,e){let o,s,l,a,d,i,r,c;wt(Dt,"user"),Ct(n,Dt,g=>e(26,d=g)),wt(Pt,"userData"),Ct(n,Pt,g=>e(8,i=g)),wt(Rt,"page"),Ct(n,Rt,g=>e(9,c=g));let{$$slots:f={},$$scope:_}=t;de("Page",f,[]);let{data:u}=t;const h=["Blog","Twitter","YouTube","TikTok","LinkedIn","GitHub","Instagram","Custom"],p={icon:"custom",title:"",url:"https://"},y=ie(p);wt(y,"formData"),Ct(n,y,g=>e(3,r=g));let x=!1,U=!1,V=u.bio||"";async function q(g){const G=ht(dt,"users",d.uid);await gt(G,{links:le({...r,id:Date.now().toString()})}),y.set({icon:"",title:"",url:""}),e(4,x=!1)}async function R(g){const G=ht(dt,"users",d.uid);await gt(G,{links:se(g)})}function T(){y.set(p),e(4,x=!1)}function O(g){const G=g.detail,tt=ht(dt,"users",d.uid);oe(tt,{links:G},{merge:!0})}async function N(g){const G=ht(dt,"users",d.uid);await gt(G,{published:!(i!=null&&i.published)})}function H(){e(5,U=!0)}async function M(g){if(!a)return;const G=ht(dt,"users",d.uid);await gt(G,{bio:V}),e(5,U=!1)}n.$$.on_mount.push(function(){u===void 0&&!("data"in t||n.$$.bound[n.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const I=["data"];Object.keys(t).forEach(g=>{!~I.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<Page> was created with unknown prop '${g}'`)});function E(){V=this.value,e(0,V)}const L=g=>R(g);function W(){r.icon=xe(this),y.set(r),e(10,h)}function st(){r.title=this.value,y.set(r),e(10,h)}function $(){r.url=this.value,y.set(r),e(10,h)}const Y=()=>e(4,x=!0);return n.$$set=g=>{"data"in g&&e(19,u=g.data)},n.$capture_state=()=>({page:Rt,UserLink:ge,db:dt,userData:Pt,user:Dt,arrayRemove:se,arrayUnion:le,doc:ht,setDoc:oe,updateDoc:gt,writable:ie,SortableList:Ce,data:u,icons:h,formDefaults:p,formData:y,showForm:x,editBio:U,bio:V,addLink:q,deleteLink:R,cancelLink:T,sortList:O,toggleProfileStatus:N,toggleBio:H,handleBioSubmit:M,bioIsValid:a,titleIsValid:s,urlIsValid:o,formIsValid:l,$user:d,$userData:i,$formData:r,$page:c}),n.$inject_state=g=>{"data"in g&&e(19,u=g.data),"showForm"in g&&e(4,x=g.showForm),"editBio"in g&&e(5,U=g.editBio),"bio"in g&&e(0,V=g.bio),"bioIsValid"in g&&e(6,a=g.bioIsValid),"titleIsValid"in g&&e(1,s=g.titleIsValid),"urlIsValid"in g&&e(2,o=g.urlIsValid),"formIsValid"in g&&e(7,l=g.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty[0]&8&&e(2,o=r.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty[0]&8&&e(1,s=r.title.length<20&&r.title.length>0),n.$$.dirty[0]&6&&e(7,l=o&&s),n.$$.dirty[0]&1&&e(6,a=V.length<=260)},[V,s,o,r,x,U,a,l,i,c,h,y,q,R,T,O,N,H,M,u,E,L,W,st,$,Y]}class un extends ue{constructor(t){super(t),fe(this,t,en,Mt,ce,{data:19},null,[-1,-1]),A("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Mt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{un as component};
