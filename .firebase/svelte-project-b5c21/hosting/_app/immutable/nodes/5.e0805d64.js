import{c as ie,q as ce,l as le,w as ue,g as me,d as de}from"../chunks/firebase.dfe6b682.js";import{H as he}from"../chunks/control.f5b05b5f.js";import{s as ee,v as fe,p as pe,g as E,q as ge,h as y,k as M,z as W,b as _e,D as we,l as D,c as q,i as S,m as H,d as O,x as X,E as be}from"../chunks/scheduler.d83c174e.js";import{S as te,i as ne,d as A,v as oe,e as b,g as a,n as g,q as Y,a as ae,s as Z,b as N,c as ve,t as z,j as Ee,k as ye,m as Me,l as ke,h as Pe}from"../chunks/index.6e71aa37.js";import{U as re,g as Ue,a as Te}from"../chunks/UserLink.7dda5c37.js";import{p as I}from"../chunks/stores.c42b6faf.js";function x(n,e){if(isNaN(n)||n<400||n>599)throw new Error(`HTTP error status codes must be between 400 and 599 â€” ${n} is invalid`);return new he(n,e)}new TextEncoder;const je=async({params:n})=>{var d,l;const e=ie(de,"users"),t=ce(e,ue("username","==",n.username),le(1)),i=await me(t),f=(d=i.docs[0])==null?void 0:d.exists(),s=(l=i.docs[0])==null?void 0:l.data();if(!f)throw x(404,"That user does not exist!");if(!s.published)throw x(403,`The profile of ${s.username} is not public!`);return{username:s.username,photoURL:s.photoURL,bio:s.bio,links:s.links??[],title:`@${s.username} | LinkForest`,description:s.bio??`@${s.username}'s portfolio`,imageUrl:s.photoURL??"/demo.png"}},De=Object.freeze(Object.defineProperty({__proto__:null,load:je},Symbol.toStringTag,{value:"Module"})),U="src/lib/components/Meta.svelte";function F(n){let e,t,i,f,s,d,l,r,u,p,o;document.title=e=n[0];const T={c:function(){t=E("meta"),i=E("meta"),f=E("meta"),s=E("meta"),d=E("meta"),r=E("meta"),u=E("meta"),p=E("meta"),o=E("meta"),this.h()},l:function(v){const c=ge("svelte-1c2zyo1",document.head);t=y(c,"META",{name:!0,content:!0}),i=y(c,"META",{property:!0,content:!0}),f=y(c,"META",{property:!0,content:!0}),s=y(c,"META",{property:!0,content:!0}),d=y(c,"META",{property:!0,content:!0}),r=y(c,"META",{name:!0,content:!0}),u=y(c,"META",{name:!0,content:!0}),p=y(c,"META",{name:!0,content:!0}),o=y(c,"META",{name:!0,content:!0}),c.forEach(b),this.h()},h:function(){a(t,"name","description"),a(t,"content",n[1]),M(t,U,10,4,455),a(i,"property","og:title"),a(i,"content",n[0]),M(i,U,13,4,552),a(f,"property","og:description"),a(f,"content",n[1]),M(f,U,14,4,601),a(s,"property","og:image"),a(s,"content",n[2]),M(s,U,15,4,662),a(d,"property","og:url"),a(d,"content",l=n[4].url.pathname),M(d,U,16,4,714),a(r,"name","twitter:card"),a(r,"content",n[3]),M(r,U,19,4,810),a(u,"name","twitter:title"),a(u,"content",n[0]),M(u,U,20,4,865),a(p,"name","twitter:description"),a(p,"content",n[1]),M(p,U,21,4,915),a(o,"name","twitter:image"),a(o,"content",n[2]),M(o,U,22,4,977)},m:function(v,c){g(document.head,t),g(document.head,i),g(document.head,f),g(document.head,s),g(document.head,d),g(document.head,r),g(document.head,u),g(document.head,p),g(document.head,o)},p:function(v,[c]){c&1&&e!==(e=v[0])&&(document.title=e),c&2&&a(t,"content",v[1]),c&1&&a(i,"content",v[0]),c&2&&a(f,"content",v[1]),c&4&&a(s,"content",v[2]),c&16&&l!==(l=v[4].url.pathname)&&a(d,"content",l),c&8&&a(r,"content",v[3]),c&1&&a(u,"content",v[0]),c&2&&a(p,"content",v[1]),c&4&&a(o,"content",v[2])},i:W,o:W,d:function(v){b(t),b(i),b(f),b(s),b(d),b(r),b(u),b(p),b(o)}};return A("SvelteRegisterBlock",{block:T,id:F.name,type:"component",source:"",ctx:n}),T}function Ce(n,e,t){let i;fe(I,"page"),pe(n,I,o=>t(4,i=o));let{$$slots:f={},$$scope:s}=e;oe("Meta",f,[]);let{title:d="LinkForest | Tied #1 Popular Link-Sharing Site on Mars"}=e,{description:l="Probably someone's favorite link-sharing site, with a 95% 5-star rating by people who rated it 5 stars."}=e,{imageUrl:r="/demo.png"}=e,{twitterCard:u="summary_large_image"}=e;const p=["title","description","imageUrl","twitterCard"];return Object.keys(e).forEach(o=>{!~p.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<Meta> was created with unknown prop '${o}'`)}),n.$$set=o=>{"title"in o&&t(0,d=o.title),"description"in o&&t(1,l=o.description),"imageUrl"in o&&t(2,r=o.imageUrl),"twitterCard"in o&&t(3,u=o.twitterCard)},n.$capture_state=()=>({page:I,title:d,description:l,imageUrl:r,twitterCard:u,$page:i}),n.$inject_state=o=>{"title"in o&&t(0,d=o.title),"description"in o&&t(1,l=o.description),"imageUrl"in o&&t(2,r=o.imageUrl),"twitterCard"in o&&t(3,u=o.twitterCard)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[d,l,r,u,i]}class Le extends te{constructor(e){super(e),ne(this,e,Ce,F,ee,{title:0,description:1,imageUrl:2,twitterCard:3}),A("SvelteRegisterComponent",{component:this,tagName:"Meta",options:e,id:F.name})}get title(){throw new Error("<Meta>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<Meta>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<Meta>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<Meta>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get imageUrl(){throw new Error("<Meta>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set imageUrl(e){throw new Error("<Meta>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get twitterCard(){throw new Error("<Meta>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set twitterCard(e){throw new Error("<Meta>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const L="src/routes/[username]/+page.svelte";function $(n,e,t){const i=n.slice();return i[1]=e[t],i}function G(n){let e,t,i,f;const s=[n[1]];let d={};for(let r=0;r<s.length;r+=1)d=we(d,s[r]);t=new re({props:d,$$inline:!0});const l={c:function(){e=E("li"),Ee(t.$$.fragment),i=q(),this.h()},l:function(u){e=y(u,"LI",{class:!0});var p=S(e);ye(t.$$.fragment,p),i=O(p),p.forEach(b),this.h()},h:function(){a(e,"class","my-4"),M(e,L,27,8,664)},m:function(u,p){ae(u,e,p),Me(t,e,null),g(e,i),f=!0},p:function(u,p){const o=p&1?Ue(s,[Te(u[1])]):{};t.$set(o)},i:function(u){f||(N(t.$$.fragment,u),f=!0)},o:function(u){z(t.$$.fragment,u),f=!1},d:function(u){u&&b(e),ke(t)}};return A("SvelteRegisterBlock",{block:l,id:G.name,type:"each",source:"(24:6) {#each data.links as item}",ctx:n}),l}function V(n){let e,t,i,f,s=n[0].username+"",d,l,r,u,p,o,T=(n[0].bio??"no bio yet...")+"",P,v,c,j,C=Y(n[0].links),h=[];for(let k=0;k<C.length;k+=1)h[k]=G($(n,C,k));const se=k=>z(h[k],1,1,()=>{h[k]=null}),J={c:function(){e=E("div"),t=E("main"),i=E("h1"),f=D("@"),d=D(s),l=q(),r=E("img"),p=q(),o=E("p"),P=D(T),v=q(),c=E("ul");for(let _=0;_<h.length;_+=1)h[_].c();this.h()},l:function(_){e=y(_,"DIV",{class:!0});var w=S(e);t=y(w,"MAIN",{class:!0});var m=S(t);i=y(m,"H1",{class:!0});var R=S(i);f=H(R,"@"),d=H(R,s),R.forEach(b),l=O(m),r=y(m,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),p=O(m),o=y(m,"P",{class:!0});var K=S(o);P=H(K,T),K.forEach(b),v=O(m),c=y(m,"UL",{class:!0});var Q=S(c);for(let B=0;B<h.length;B+=1)h[B].l(Q);Q.forEach(b),m.forEach(b),w.forEach(b),this.h()},h:function(){a(i,"class","text-3xl font-bold text-purple-500 mb-8"),M(i,L,12,4,280),X(r.src,u=n[0].photoURL??"/user.webp")||a(r,"src",u),a(r,"alt","profile"),a(r,"width","400"),a(r,"height","400"),a(r,"class","mx-auto rounded drop-shadow"),M(r,L,16,4,371),a(o,"class","text-lg my-8"),M(o,L,24,4,529),a(c,"class","list-none px-2 m-0"),M(c,L,25,4,591),a(t,"class","prose text-center mx-auto"),M(t,L,10,2,234),a(e,"class","w-96 m-auto mt-8 mb-12 mx-auto"),M(e,L,9,0,187)},m:function(_,w){ae(_,e,w),g(e,t),g(t,i),g(i,f),g(i,d),g(t,l),g(t,r),g(t,p),g(t,o),g(o,P),g(t,v),g(t,c);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(c,null);j=!0},p:function(_,[w]){if((!j||w&1)&&s!==(s=_[0].username+"")&&Z(d,s),(!j||w&1&&!X(r.src,u=_[0].photoURL??"/user.webp"))&&a(r,"src",u),(!j||w&1)&&T!==(T=(_[0].bio??"no bio yet...")+"")&&Z(P,T),w&1){C=Y(_[0].links);let m;for(m=0;m<C.length;m+=1){const R=$(_,C,m);h[m]?(h[m].p(R,w),N(h[m],1)):(h[m]=G(R),h[m].c(),N(h[m],1),h[m].m(c,null))}for(Pe(),m=C.length;m<h.length;m+=1)se(m);ve()}},i:function(_){if(!j){for(let w=0;w<C.length;w+=1)N(h[w]);j=!0}},o:function(_){h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)z(h[w]);j=!1},d:function(_){_&&b(e),be(h,_)}};return A("SvelteRegisterBlock",{block:J,id:V.name,type:"component",source:"",ctx:n}),J}function Re(n,e,t){let{$$slots:i={},$$scope:f}=e;oe("Page",i,[]);let{data:s}=e;n.$$.on_mount.push(function(){s===void 0&&!("data"in e||n.$$.bound[n.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const d=["data"];return Object.keys(e).forEach(l=>{!~d.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)}),n.$$set=l=>{"data"in l&&t(0,s=l.data)},n.$capture_state=()=>({UserLink:re,setContext:_e,Meta:Le,data:s}),n.$inject_state=l=>{"data"in l&&t(0,s=l.data)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[s]}class He extends te{constructor(e){super(e),ne(this,e,Re,V,ee,{data:0}),A("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:V.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{He as component,De as universal};
